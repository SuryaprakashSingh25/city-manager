<div class="auth-container">
  <h2>Login</h2>

  <form #loginForm="ngForm" (ngSubmit)="login(loginForm)">
    <input 
      type="email" 
      placeholder="Email" 
      [(ngModel)]="email" 
      name="email" 
      required 
      email 
      #emailCtrl="ngModel"
    />
    <div class="error" *ngIf="emailCtrl.invalid && emailCtrl.touched">
      <small *ngIf="emailCtrl.errors?.['required']">Email is required.</small>
      <small *ngIf="emailCtrl.errors?.['email']">Invalid email format.</small>
    </div>

    <div class="password-wrapper">
  <input 
    [type]="showPassword ? 'text' : 'password'" 
    placeholder="Password" 
    [(ngModel)]="password" 
    name="password" 
    required 
    minlength="8"
    pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$"
    #passwordCtrl="ngModel"
  />
  <button type="button" class="toggle-btn" (click)="togglePassword()" tabindex="-1">
    {{ showPassword ? 'ğŸ™ˆ' : 'ğŸ‘ï¸' }}
  </button>
</div>
    <div class="error" *ngIf="passwordCtrl.invalid && passwordCtrl.touched">
      <small *ngIf="passwordCtrl.errors?.['required']">Password is required.</small>
      <small *ngIf="passwordCtrl.errors?.['pattern']">Must be at least 8 chars, include uppercase, lowercase, number, and special character.</small>
    </div>

    <button type="submit" [disabled]="loginForm.invalid">Login</button>
  </form>

  <div class="links">
    <a routerLink="/register">Create Account</a> |
    <a routerLink="/forgot-password">Forgot Password?</a>
  </div>
</div>
